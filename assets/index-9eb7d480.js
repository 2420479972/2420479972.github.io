import{r as g,j as K,J as M,g as T,K as W,L as Y,M as Z,b as d,c as R,t as O,n as w,N as q,d as f,O as G,P as J,w as A,z as Q,C as X,Q as ee,a as te,R as oe,m as ae,A as ne,I as N,S as se,u as ce,T as le,o as p,U as B,V as x,h as P,W as re,X as ie,Y as I,Z as E,i as F,$ as z,_ as $,a0 as de,E as u,a1 as ue,a2 as _e,G as ve,H as me,a3 as pe,y as fe}from "./index-a2b9700e.js";import{o as he,c as be}from "./on-popup-reopen-26f038ff.js";import{B as xe,r as ge,a as ke}from "./use-route-33e1c4ca.js";import{C as ye}from "./index-e920b125.js";const Ce=(t, a)=>{const e=g(),o=()=>{e.value=Z(t).height};return K(()=>{if(M(o),a)for(let l=1; l<=3; l++)setTimeout(o,100*l)}),he(()=>M(o)),T([W,Y],o),e};function we(t, a){const e=Ce(t,!0);return o=>d("div",{class:a("placeholder"),style:{height:e.value?`${e.value}px`:void 0}},[o()])}const[H,S]=R("tabbar"),Be={route:Boolean,fixed:O,border:O,zIndex:w,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:q(0),safeAreaInsetBottom:{type:Boolean,default:null}},U=Symbol(H);var Pe=f({name:H,props:Be,emits:["change","update:modelValue"],setup(t, {emit:a,slots:e}){const o=g(),{linkChildren:l}=G(U),r=we(o,S),s=()=>{var c;return(c=t.safeAreaInsetBottom)!=null?c:t.fixed},i=()=>{var c;const{fixed:n,zIndex:_,border:h}=t;return d("div",{ref:o,role:"tablist",style:J(_),class:[S({fixed:n}),{[xe]:h,"van-safe-area-bottom":s()}]},[(c=e.default)==null?void 0:c.call(e)])};return l({props:t,setActive:(c, n)=>{be(t.beforeChange,{args:[c],done(){a("update:modelValue",c),a("change",c),n()}})}}),()=>t.fixed&&t.placeholder?r(i):i()}});const Ie=A(Pe),[$e,y]=R("tabbar-item"),Ve=Q({},ge,{dot:Boolean,icon:String,name:w,badge:w,badgeProps:Object,iconPrefix:String});var Me=f({name:$e,props:Ve,emits:["click"],setup(t, {emit:a,slots:e}){const o=ke(),l=X().proxy,{parent:r,index:s}=ee(U);if(!r)return;const i=te(()=>{var n;const{route:_,modelValue:h}=r.props;if(_&&"$route"in l){const{$route:k}=l,{to:b}=t,m=ne(b)?b:{path:b};return!!k.matched.find(V=>{const L="path"in m&&m.path===V.path,D="name"in m&&m.name===V.name;return L||D})}return((n=t.name)!=null?n:s.value)===h}),v= n=>{var _;i.value||r.setActive((_=t.name)!=null?_:s.value,o),a("click",n)},c=()=>{if(e.icon)return e.icon({active:i.value});if(t.icon)return d(N,{name:t.icon,classPrefix:t.iconPrefix},null)};return()=>{var n;const{dot:_,badge:h}=t,{activeColor:k,inactiveColor:b}=r.props,m=i.value?k:b;return d("div",{role:"tab",class:y({active:i.value}),style:{color:m},tabindex:0,"aria-selected":i.value,onClick:v},[d(oe,ae({dot:_,class:y("icon"),content:h},t.badgeProps),{default:c}),d("div",{class:y("text")},[(n=e.default)==null?void 0:n.call(e,{active:i.value})])])}}});const Oe=A(Me);const Se=f({__name:"Footer",setup(t){const a=se(),e=ce(),o=g("/home/chat");le(()=>{o.value=a.path}),T(()=>o.value, r=>{e.push(r)});const l=[{text:"footerOperation.chat",icon:"comment-o",path:"/home/chat"},{text:"footerOperation.find",icon:"coupon-o"},{text:"footerOperation.addressBook",icon:"friends-o",path:"/contacts"},{text:"footerOperation.me",icon:"contact-o"}];return(r, s)=>{const i=N,v=Oe,c=Ie;return p(),B(c,{modelValue:F(o),"onUpdate:modelValue":s[0]||(s[0]= n=>z(o)?o.value=n:null),"safe-area-inset-bottom":"",fixed:!1,"active-color":"rgb(53,111,240)"},{default:x(()=>[(p(),P(re,null,ie(l, n=>d(v,{key:n.text,name:n.path,style:{"background-color":"var(--home-menu-bg)"}},{icon:x(_=>[d(i,{name:n.icon,size:25,color:_.active?"rgb(53,111,240)":"rgb(158, 163, 179)"},null,8,["name","color"])]),default:x(()=>[I(" "+E(r.$t(n.text)),1)]),_:2},1032,["name"])),64))]),_:1},8,["modelValue"])}}});const Te=$(Se,[["__scopeId","data-v-90c0f8cc"]]);const Re={},Ae={class:"body flex flex-col h-full w-full"},Ne={class:"content flex-1 w-full overflow-x-hidden overflow-y-auto"},Ee={class:"footer h-[50px] w-full"};function Fe(t, a){const e=de("router-view"),o=Te;return p(),P("div",Ae,[u("div",Ne,[d(e)]),u("div",Ee,[d(o)])])}const ze=$(Re,[["render",Fe],["__scopeId","data-v-b0ba60d1"]]),j= t=>(ve("data-v-ac8d153d"),t=t(),me(),t),He={key:0,class:"model"},Ue={class:"title"},je=j(()=>u("div",{class:"avatar"},null,-1)),Le=j(()=>u("div",{class:"content"},[u("div",{class:"text"},"你确定要删除与xxx的对话吗？")],-1)),De={class:"tip"},Ke=f({__name:"Model",props:{visible:{type:Boolean,default:!0},title:{default:"删除对话"}},emits:["update:visible","ok","cancel"],setup(t, {emit:a}){const e=g(!1),o=a,l=()=>{o("update:visible",!1),o("cancel")},r=()=>{o("ok",e.value)};return(s, i)=>{const v=ye;return p(),B(_e,{to:"#app"},[s.visible?(p(),P("div",He,[u("div",Ue,[je,u("span",null,E(s.title),1)]),u("main",null,[Le,u("div",De,[d(v,{shape:"square",modelValue:F(e),"onUpdate:modelValue":i[0]||(i[0]= c=>z(e)?e.value=c:null)},{default:x(()=>[I(" 同时删除xxx的消息")]),_:1},8,["modelValue"])])]),u("footer",null,[u("div",{class:"cancel",onClick:l}," 取消 "),u("div",{class:"sure",onClick:r}," 删除对话 ")])])):ue("",!0)])}}});const We=$(Ke,[["__scopeId","data-v-ac8d153d"]]),Ye=f({props:{visible:{type:Boolean,default:!1}},setup(t, {expose:a}){const e=fe({visible:t.visible}),o= s=>{e.visible=!0,e.ok=s},l=()=>{e.visible=!1},r= s=>{e.ok&&e.ok(s,l)};return a({showModel:o}),()=>d(We,{visible:e.visible,"onUpdate:visible": s=>e.visible=s,on:!0,onOk:r},null)}});let C=null;const Ze=()=>{var e;const t=document.createElement("div");C=d(Ye),pe(C,t),document.body.appendChild(t);const{showModel:a}=(e=C.component)==null?void 0:e.exposed;return{showModel:a}},Xe=f({__name:"index",setup(t){const{showModel:a}=Ze();return a((e, o)=>{console.log(e),o()}),(e, o)=>(p(),B(ze,null,{default:x(()=>[I(" 1 ")]),_:1}))}});export{Xe as default};
